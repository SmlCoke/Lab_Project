# DIC Lab2 任务书

## Task1
Task: Measure FO4 delay (tpLH, tpHL, tp) of inverter

测量得到第三个反相器的时延参数：
```spice
$DATA1 SOURCE='HSPICE' VERSION='L-2016.03-2 win64' PARAM_COUNT=0
.TITLE '*****************************************************'
 tplh             tphl             tp               temper          
 alter#          
  6.190e-012       5.633e-012       5.911e-012        25.0000       
1               
```
tpHL的测量波形图见图：
![alt text](image.png)
tpLH的测量波形图如图：
![alt text](image-1.png)


## Task2: Delay Optimization for Inverter Chain

Task: For a inverter chain with 4 stages and 256X Cload(256X inverter), find the minimum delay chain design
设置的参数为：
```spice
.data sweepdata f2 f3 f3
+ 4 16 64
+ 4 15 60
+ 4 20 80
+ 5 16 64
+ 5 15 60
+ 5 20 80
```

反相器链的连接情况为：
```spice
* Connet subckt
Xinv1 in inv1_out vdd 0 inv nfin = 1
Xinv2 inv1_out inv2_out vdd 0 inv nfin = 'f2'
Xinv3 inv2_out inv3_out vdd 0 inv nfin = 'f3'
Xinv4 inv3_out inv4_out vdd 0 inv nfin = 'f4'
XinvL inv4_out invL_out vdd 0 inv nfin = 256
```

其中f2, f3, f4分别是四级反相器链中，第二个、第三个、第四个反相器的尺寸因子，在本实验的情况下体现为FinFET的Fin个数。此外，题目默认第一个反相器的尺寸因子为1，负载反相器（256X inverter）的尺寸因子为256
测量语句：
```spice
.measure tran tpLH1 TRIG V(in) = '0.5*SUPPLY' FALL = 2  TARG V(inv1_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL1 TRIG V(in) = '0.5*SUPPLY' RISE = 2  TARG V(inv1_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp1 param='(tpLH1+tpHL1)/2'

.measure tran tpLH2 TRIG V(inv1_out) = '0.5*SUPPLY' FALL = 2  TARG V(inv2_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL2 TRIG V(inv1_out) = '0.5*SUPPLY' RISE = 2  TARG V(inv2_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp2 param='(tpLH2+tpHL2)/2'

.measure tran tpLH3 TRIG V(inv2_out) = '0.5*SUPPLY' FALL = 2  TARG V(inv3_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL3 TRIG V(inv2_out) = '0.5*SUPPLY' RISE = 2  TARG V(inv3_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp3 param='(tpLH3+tpHL3)/2'

.measure tran tpLH4 TRIG V(inv3_out) = '0.5*SUPPLY' FALL = 2  TARG V(inv4_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL4 TRIG V(inv3_out) = '0.5*SUPPLY' RISE = 2  TARG V(inv4_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp4 param='(tpLH4+tpHL4)/2'

.measure tran tp_total param='tp1+tp2+tp3+tp4'
```
测量得到的结果为：task2.mt0:
```spice
$DATA1 SOURCE='HSPICE' VERSION='L-2016.03-2 win64' PARAM_COUNT=4
.TITLE '*****************************************************'
 index            f2               f3               f3              
                  tplh1            tphl1            tp1             
                  tplh2            tphl2            tp2             
                  tplh3            tphl3            tp3             
                  tplh4            tphl4            tp4             
                  tp_total         temper           alter#          
 1                   4.0000          16.0000          64.0000       
                   8.760e-012       7.959e-012       8.360e-012     
                   2.010e-011       1.762e-011       1.886e-011     
                   6.522e-012       5.460e-012       5.991e-012     
                   8.421e-012       7.054e-012       7.738e-012     
                   4.095e-011        25.0000        1               
 2                   4.0000          15.0000          60.0000       
                   8.752e-012       7.837e-012       8.295e-012     
                   1.898e-011       1.654e-011       1.776e-011     
                   6.531e-012       5.494e-012       6.012e-012     
                   8.342e-012       7.227e-012       7.785e-012     
                   3.986e-011        25.0000        1               
 3                   4.0000          20.0000          80.0000       
                   8.741e-012       8.116e-012       8.428e-012     
                   2.427e-011       2.103e-011       2.265e-011     
                   7.162e-012       5.696e-012       6.429e-012     
                   8.647e-012       7.211e-012       7.929e-012     
                   4.543e-011        25.0000        1               
 4                   5.0000          16.0000          64.0000       
                   9.935e-012       8.942e-012       9.439e-012     
                   1.678e-011       1.499e-011       1.588e-011     
                   6.043e-012       5.158e-012       5.600e-012     
                   7.837e-012       6.674e-012       7.255e-012     
                   3.818e-011        25.0000        1               
 5                   5.0000          15.0000          60.0000       
                   1.003e-011       8.956e-012       9.492e-012     
                   1.589e-011       1.428e-011       1.509e-011     
                   5.821e-012       5.190e-012       5.506e-012     
                   7.631e-012       6.846e-012       7.238e-012     
                   3.732e-011        25.0000        1               
 6                   5.0000          20.0000          80.0000       
                   9.895e-012       8.932e-012       9.414e-012     
                   2.042e-011       1.789e-011       1.916e-011     
                   6.435e-012       5.090e-012       5.762e-012     
                   8.273e-012       6.619e-012       7.446e-012     
                   4.178e-011        25.0000        1               
         
```         

可以发现，与教材中的结论$f = F^{\frac{1}{N}}$不同的是，$f_2 = 4, f_3 = 4f_2 = 16, f_4=4f_3=64$的尺寸组合的反相器并没有得到最优延迟，得到最优反相器链延迟组合的是$f_2 = 5, f_3 = 15, f_4=60$
时域波形图佐证：
![alt text](image-2.png)
原因分析：待补充



## Task3: CMOS Inverter Power
Task: Measure the power of inverter chain in Task2 
➢ Only include the power consumption of inverter chain
➢ Apply a pulse voltage on the input node and measure the power averaging
for multiple cycles
The chain size should use the optimum values you have found

So, Let f2 = 5, f3 = 15, f4 = 60
关键测量语句：
```spice
.MEASURE TRAN avgpower AVG P(vdd_inv) from=1n to=10n
```
测量结果：task3.mt0
```spice
$DATA1 SOURCE='HSPICE' VERSION='L-2016.03-2 win64' PARAM_COUNT=0
.TITLE '*****************************************************'
 avgpower         temper           alter#          
 -4.986e-005        25.0000        1                          
```


## Task4: DP measurement
Task: Using optimized chain to find optimal point of Energy and delay
Hint:
• To find ensure your results, you can sweep the VDD beyond the standard supply
• Ultral-low VDD may result in unfunctional circuit

Use function to measure EDP
.measure tran edp param='abs(avgpower*tp*tp)'

测量语句：
```spice
.probe tran V(*) I(*)
.measure tran tpLH1 TRIG V(in) = '0.5*SUPPLY' FALL = 2  TARG V(inv1_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL1 TRIG V(in) = '0.5*SUPPLY' RISE = 2  TARG V(inv1_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp1 param='(tpLH1+tpHL1)/2'

.measure tran tpLH2 TRIG V(inv1_out) = '0.5*SUPPLY' FALL = 2  TARG V(inv2_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL2 TRIG V(inv1_out) = '0.5*SUPPLY' RISE = 2  TARG V(inv2_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp2 param='(tpLH2+tpHL2)/2'

.measure tran tpLH3 TRIG V(inv2_out) = '0.5*SUPPLY' FALL = 2  TARG V(inv3_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL3 TRIG V(inv2_out) = '0.5*SUPPLY' RISE = 2  TARG V(inv3_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp3 param='(tpLH3+tpHL3)/2'

.measure tran tpLH4 TRIG V(inv3_out) = '0.5*SUPPLY' FALL = 2  TARG V(inv4_out) = '0.5*SUPPLY' RISE = 2
.measure tran tpHL4 TRIG V(inv3_out) = '0.5*SUPPLY' RISE = 2  TARG V(inv4_out) = '0.5*SUPPLY' FALL = 2
.measure tran tp4 param='(tpLH4+tpHL4)/2'

.measure tran tp_total param='tp1+tp2+tp3+tp4'

.measure TRAN avgpower AVG P(vdd_inv) from=1n to=8n
.measure tran EDP param='abs(avgpower*tp_total*tp_total)'
```
测量结果为：task4.mt0：
```spice
$DATA1 SOURCE='HSPICE' VERSION='L-2016.03-2 win64' PARAM_COUNT=1
.TITLE '*****************************************************'
 supply           tplh1            tphl1            tp1             
                  tplh2            tphl2            tp2             
                  tplh3            tphl3            tp3             
                  tplh4            tphl4            tp4             
                  tp_total         avgpower         edp             
                  temper           alter#          
    0.5000         1.410e-011       1.292e-011       1.351e-011     
                   9.633e-012       9.676e-012       9.655e-012     
                   1.047e-011       9.870e-012       1.017e-011     
                   1.149e-011       1.098e-011       1.123e-011     
                   4.456e-011      -2.023e-005       4.018e-026     
                    25.0000        1               
    0.5200         1.359e-011       1.246e-011       1.302e-011     
                   9.039e-012       9.060e-012       9.050e-012     
                   9.862e-012       9.297e-012       9.580e-012     
                   1.087e-011       1.035e-011       1.061e-011     
                   4.226e-011      -2.211e-005       3.950e-026     
                    25.0000        1               
    0.5400         1.313e-011       1.205e-011       1.259e-011     
                   8.584e-012       8.529e-012       8.557e-012     
                   9.350e-012       8.806e-012       9.078e-012     
                   1.034e-011       9.832e-012       1.008e-011     
                   4.031e-011      -2.411e-005       3.917e-026     
                    25.0000        1               
    0.5600         1.275e-011       1.165e-011       1.220e-011     
                   8.195e-012       8.061e-012       8.128e-012     
                   8.909e-012       8.385e-012       8.647e-012     
                   9.886e-012       9.366e-012       9.626e-012     
                   3.860e-011      -2.620e-005       3.904e-026     
                    25.0000        1               
    0.5800         1.240e-011       1.129e-011       1.184e-011     
                   7.862e-012       7.688e-012       7.775e-012     
                   8.523e-012       8.019e-012       8.271e-012     
                   9.493e-012       8.975e-012       9.234e-012     
                   3.712e-011      -2.839e-005       3.913e-026     
                    25.0000        1               
    0.6000         1.206e-011       1.097e-011       1.151e-011     
                   7.571e-012       7.363e-012       7.467e-012     
                   8.187e-012       7.700e-012       7.944e-012     
                   9.150e-012       8.616e-012       8.883e-012     
                   3.581e-011      -3.069e-005       3.935e-026     
                    25.0000        1               
    0.6200         1.176e-011       1.068e-011       1.122e-011     
                   7.309e-012       7.065e-012       7.187e-012     
                   7.895e-012       7.421e-012       7.658e-012     
                   8.842e-012       8.307e-012       8.575e-012     
                   3.464e-011      -3.311e-005       3.972e-026     
                    25.0000        1               
    0.6400         1.148e-011       1.040e-011       1.094e-011     
                   7.096e-012       6.835e-012       6.966e-012     
                   7.632e-012       7.169e-012       7.401e-012     
                   8.562e-012       8.043e-012       8.303e-012     
                   3.361e-011      -3.562e-005       4.023e-026     
                    25.0000        1               
    0.6600         1.122e-011       1.014e-011       1.068e-011     
                   6.901e-012       6.615e-012       6.758e-012     
                   7.398e-012       6.944e-012       7.171e-012     
                   8.319e-012       7.783e-012       8.051e-012     
                   3.266e-011      -3.825e-005       4.080e-026     
                    25.0000        1               
    0.6800         1.098e-011       9.924e-012       1.045e-011     
                   6.726e-012       6.424e-012       6.575e-012     
                   7.180e-012       6.737e-012       6.958e-012     
                   8.113e-012       7.572e-012       7.843e-012     
                   3.183e-011      -4.098e-005       4.152e-026     
                    25.0000        1               
    0.7000         1.077e-011       9.680e-012       1.022e-011     
                   6.576e-012       6.246e-012       6.411e-012     
                   6.987e-012       6.561e-012       6.774e-012     
                   7.913e-012       7.371e-012       7.642e-012     
                   3.105e-011      -4.385e-005       4.228e-026     
                    25.0000        1               
    0.7200         1.057e-011       9.480e-012       1.002e-011     
                   6.437e-012       6.093e-012       6.265e-012     
                   6.829e-012       6.393e-012       6.611e-012     
                   7.730e-012       7.191e-012       7.460e-012     
                   3.036e-011      -4.681e-005       4.314e-026     
                    25.0000        1               
    0.7400         1.038e-011       9.291e-012       9.833e-012     
                   6.310e-012       5.956e-012       6.133e-012     
                   6.667e-012       6.244e-012       6.456e-012     
                   7.574e-012       7.023e-012       7.298e-012     
                   2.972e-011      -4.989e-005       4.407e-026     
                    25.0000        1               
    0.7600         1.020e-011       9.131e-012       9.666e-012     
                   6.191e-012       5.834e-012       6.012e-012     
                   6.529e-012       6.108e-012       6.319e-012     
                   7.419e-012       6.882e-012       7.150e-012     
                   2.915e-011      -5.309e-005       4.510e-026     
                    25.0000        1               
    0.7800         1.006e-011       8.971e-012       9.518e-012     
                   6.072e-012       5.717e-012       5.894e-012     
                   6.400e-012       5.978e-012       6.189e-012     
                   7.287e-012       6.746e-012       7.016e-012     
                   2.862e-011      -5.642e-005       4.621e-026     
                    25.0000        1               
    0.8000         9.891e-012       8.823e-012       9.357e-012     
                   5.976e-012       5.609e-012       5.793e-012     
                   6.270e-012       5.867e-012       6.069e-012     
                   7.168e-012       6.631e-012       6.900e-012     
                   2.812e-011      -5.985e-005       4.732e-026     
                    25.0000        1               
    0.8200         9.780e-012       8.683e-012       9.232e-012     
                   5.881e-012       5.512e-012       5.697e-012     
                   6.160e-012       5.760e-012       5.960e-012     
                   7.052e-012       6.517e-012       6.785e-012     
                   2.767e-011      -6.341e-005       4.856e-026     
                    25.0000        1               
    0.8400         9.640e-012       8.552e-012       9.096e-012     
                   5.793e-012       5.416e-012       5.605e-012     
                   6.067e-012       5.662e-012       5.864e-012     
                   6.950e-012       6.395e-012       6.672e-012     
                   2.724e-011      -6.708e-005       4.977e-026     
                    25.0000        1               
    0.8600         9.523e-012       8.431e-012       8.977e-012     
                   5.711e-012       5.331e-012       5.521e-012     
                   5.970e-012       5.569e-012       5.770e-012     
                   6.851e-012       6.294e-012       6.573e-012     
                   2.684e-011      -7.088e-005       5.106e-026     
                    25.0000        1               
    0.8800         9.414e-012       8.318e-012       8.866e-012     
                   5.633e-012       5.251e-012       5.442e-012     
                   5.883e-012       5.486e-012       5.684e-012     
                   6.762e-012       6.204e-012       6.483e-012     
                   2.647e-011      -7.481e-005       5.243e-026     
                    25.0000        1               
    0.9000         9.306e-012       8.212e-012       8.759e-012     
                   5.558e-012       5.178e-012       5.368e-012     
                   5.805e-012       5.406e-012       5.605e-012     
                   6.677e-012       6.120e-012       6.398e-012     
                   2.613e-011      -7.888e-005       5.386e-026     
                    25.0000        1               
    0.9200         9.221e-012       8.118e-012       8.670e-012     
                   5.489e-012       5.110e-012       5.299e-012     
                   5.735e-012       5.332e-012       5.533e-012     
                   6.602e-012       6.042e-012       6.322e-012     
                   2.582e-011      -8.302e-005       5.537e-026     
                    25.0000        1               
    0.9400         9.131e-012       8.020e-012       8.575e-012     
                   5.429e-012       5.047e-012       5.238e-012     
                   5.667e-012       5.263e-012       5.465e-012     
                   6.527e-012       5.970e-012       6.248e-012     
                   2.553e-011      -8.734e-005       5.691e-026     
                    25.0000        1               
    0.9600         9.047e-012       7.937e-012       8.492e-012     
                   5.365e-012       4.987e-012       5.176e-012     
                   5.597e-012       5.199e-012       5.398e-012     
                   6.460e-012       5.900e-012       6.180e-012     
                   2.525e-011      -9.176e-005       5.849e-026     
                    25.0000        1               
    0.9800         8.960e-012       7.856e-012       8.408e-012     
                   5.311e-012       4.928e-012       5.119e-012     
                   5.535e-012       5.139e-012       5.337e-012     
                   6.396e-012       5.836e-012       6.116e-012     
                   2.498e-011      -9.631e-005       6.010e-026     
                    25.0000        1               
    1.0000         8.887e-012       7.781e-012       8.334e-012     
                   5.257e-012       4.865e-012       5.061e-012     
                   5.483e-012       5.080e-012       5.281e-012     
                   6.334e-012       5.774e-012       6.054e-012     
                   2.473e-011      -1.010e-004       6.179e-026     
                    25.0000        1               
    1.0200         8.838e-012       7.713e-012       8.275e-012     
                   5.201e-012       4.816e-012       5.009e-012     
                   5.429e-012       5.029e-012       5.229e-012     
                   6.283e-012       5.722e-012       6.003e-012     
                   2.452e-011      -1.059e-004       6.366e-026     
                    25.0000        1               
    1.0400         8.775e-012       7.644e-012       8.209e-012     
                   5.157e-012       4.767e-012       4.962e-012     
                   5.378e-012       4.979e-012       5.178e-012     
                   6.231e-012       5.670e-012       5.950e-012     
                   2.430e-011      -1.110e-004       6.553e-026     
                    25.0000        1               
    1.0600         8.709e-012       7.582e-012       8.146e-012     
                   5.113e-012       4.724e-012       4.919e-012     
                   5.334e-012       4.931e-012       5.133e-012     
                   6.183e-012       5.620e-012       5.901e-012     
                   2.410e-011      -1.164e-004       6.757e-026     
                    25.0000        1               
    1.0800         8.647e-012       7.527e-012       8.087e-012     
                   5.072e-012       4.680e-012       4.876e-012     
                   5.290e-012       4.888e-012       5.089e-012     
                   6.135e-012       5.582e-012       5.859e-012     
                   2.391e-011      -1.227e-004       7.015e-026     
                    25.0000        1               
    1.1000         8.587e-012       7.466e-012       8.026e-012     
                   5.030e-012       4.626e-012       4.828e-012     
                   5.249e-012       4.844e-012       5.046e-012     
                   6.089e-012       5.526e-012       5.807e-012     
                   2.371e-011      -1.324e-004       7.441e-026     
                    25.0000        1               
    1.1200         8.548e-012       7.408e-012       7.978e-012     
                   4.994e-012       4.592e-012       4.793e-012     
                   5.207e-012       4.799e-012       5.003e-012     
                   6.044e-012       5.476e-012       5.760e-012     
                   2.353e-011      -1.528e-004       8.463e-026     
                    25.0000        1               
    1.1400         8.490e-012       7.344e-012       7.917e-012     
                   4.959e-012       4.549e-012       4.754e-012     
                   5.161e-012       4.747e-012       4.954e-012     
                   5.993e-012       5.416e-012       5.705e-012     
                   2.333e-011      -2.014e-004       1.096e-025     
                    25.0000        1               
    1.1600         8.427e-012       7.275e-012       7.851e-012     
                   4.918e-012       4.498e-012       4.708e-012     
                   5.109e-012       4.686e-012       4.897e-012     
                   5.930e-012       5.349e-012       5.639e-012     
                   2.310e-011      -2.962e-004       1.580e-025     
                    25.0000        1               
    1.1800         8.343e-012       7.193e-012       7.768e-012     
                   4.879e-012       4.456e-012       4.667e-012     
                   5.054e-012       4.620e-012       4.837e-012     
                   5.856e-012       5.267e-012       5.561e-012     
                   2.283e-011      -4.380e-004       2.284e-025     
                    25.0000        1               
    1.2000         8.273e-012       7.113e-012       7.693e-012     
                   4.837e-012       4.404e-012       4.620e-012     
                   4.996e-012       4.554e-012       4.775e-012     
                   5.774e-012       5.181e-012       5.478e-012     
                   2.257e-011      -6.170e-004       3.142e-025     
                    25.0000        1               
    1.2200         8.199e-012       7.027e-012       7.613e-012     
                   4.799e-012       4.349e-012       4.574e-012     
                   4.937e-012       4.490e-012       4.713e-012     
                   5.694e-012       5.098e-012       5.396e-012     
                   2.230e-011      -8.254e-004       4.103e-025     
                    25.0000        1               
    1.2400         8.125e-012       6.948e-012       7.537e-012     
                   4.748e-012       4.299e-012       4.523e-012     
                   4.880e-012       4.426e-012       4.653e-012     
                   5.609e-012       5.022e-012       5.316e-012     
                   2.203e-011      -1.063e-003       5.157e-025     
                    25.0000        1               
    1.2600         8.049e-012       6.867e-012       7.458e-012     
                   4.712e-012       4.254e-012       4.483e-012     
                   4.822e-012       4.368e-012       4.595e-012     
                   5.519e-012       4.924e-012       5.222e-012     
                   2.176e-011      -1.340e-003       6.342e-025     
                    25.0000        1               
    1.2800         7.977e-012       6.789e-012       7.383e-012     
                   4.665e-012       4.201e-012       4.433e-012     
                   4.769e-012       4.311e-012       4.540e-012     
                   5.430e-012       4.835e-012       5.132e-012     
                   2.149e-011      -1.693e-003       7.818e-025     
                    25.0000        1               
    1.3000         7.902e-012       6.684e-012       7.293e-012     
                   4.634e-012       4.151e-012       4.392e-012     
                   4.714e-012       4.256e-012       4.485e-012     
                   5.337e-012       4.748e-012       5.043e-012     
                   2.121e-011      -2.225e-003       1.001e-024     
                    25.0000        1               
    1.3200         7.834e-012       6.639e-012       7.236e-012     
                   4.571e-012       4.099e-012       4.335e-012     
                   4.660e-012       4.207e-012       4.434e-012     
                   5.247e-012       4.665e-012       4.956e-012     
                   2.096e-011      -3.212e-003       1.411e-024     
                    25.0000        1               
    1.3400         7.755e-012       6.569e-012       7.162e-012     
                   4.523e-012       4.056e-012       4.290e-012     
                   4.608e-012       4.157e-012       4.383e-012     
                   5.157e-012       4.580e-012       4.868e-012     
                   2.070e-011      -5.387e-003       2.309e-024     
                    25.0000        1               
    1.3600         7.692e-012       6.493e-012       7.093e-012     
                   4.485e-012       4.000e-012       4.242e-012     
                   4.562e-012       4.106e-012       4.334e-012     
                   5.068e-012       4.496e-012       4.782e-012     
                   2.045e-011      -1.070e-002       4.473e-024     
                    25.0000        1               
    1.3800         7.626e-012       6.422e-012       7.024e-012     
                   4.442e-012       3.953e-012       4.197e-012     
                   4.506e-012       4.057e-012       4.282e-012     
                   4.985e-012       4.415e-012       4.700e-012     
                   2.020e-011      -2.427e-002       9.906e-024     
                    25.0000        1               
    1.4000         7.557e-012       6.335e-012       6.946e-012     
                   4.403e-012       3.908e-012       4.156e-012     
                   4.463e-012       4.011e-012       4.237e-012     
                   4.903e-012       4.333e-012       4.618e-012     
                   1.996e-011      -5.963e-002       2.375e-023     
                    25.0000        1               
    1.4200         7.482e-012       6.276e-012       6.879e-012     
                   4.352e-012       3.863e-012       4.107e-012     
                   4.415e-012       3.968e-012       4.191e-012     
                   4.815e-012       4.253e-012       4.534e-012     
                   1.971e-011        -0.1523         5.918e-023     
                    25.0000        1               
    1.4400         7.425e-012       6.211e-012       6.818e-012     
                   4.307e-012       3.810e-012       4.059e-012     
                   4.368e-012       3.920e-012       4.144e-012     
                   4.745e-012       4.176e-012       4.460e-012     
                   1.948e-011        -0.3956         1.501e-022     
                    25.0000        1               
    1.4600         7.351e-012       6.139e-012       6.745e-012     
                   4.265e-012       3.775e-012       4.020e-012     
                   4.325e-012       3.878e-012       4.101e-012     
                   4.666e-012       4.102e-012       4.384e-012     
                   1.925e-011        -1.0341         3.832e-022     
                    25.0000        1               
    1.4800         7.276e-012       6.079e-012       6.678e-012     
                   4.226e-012       3.731e-012       3.978e-012     
                   4.281e-012       3.832e-012       4.056e-012     
                   4.595e-012       4.027e-012       4.311e-012     
                   1.902e-011        -2.7087         9.802e-022     
                    25.0000        1               
    1.5000         7.206e-012       6.027e-012       6.616e-012     
                   4.176e-012       3.690e-012       3.933e-012     
                   4.233e-012       3.790e-012       4.012e-012     
                   4.522e-012       3.953e-012       4.238e-012     
                   1.880e-011        -7.0934         2.507e-021     
                    25.0000        1                        
```
数据结果已经利用Lab2/parser_mt.py整理至task4.xlsx(纯提取，无其余操作)，然后利用Lab2/Task4/summary_plot.py读取task4.xlsx文件，读取关键指标tp_total, avgpower, edp，并绘制与电压的关系曲线图：
tp_total - volts: 
![alt text](../Task4/tp_total_vs_volts.png)
avgpower - volts:
![alt text](../Task4/power_vs_volts.png)
edp - volts:
![alt text](../Task4/edp_vs_volts.png)



从表格中可见，具有最低EDP值的SUPPLY为0.56V，对应的edp值为3.904e-026 W s^2




## Task 5 (Optional): Inverter chain optimization with unfixed stages
For a given Initial stage and Cload, find the minimum delay chain design
Find: Optimize Stage Number and Size of each stage
Design the optimum delay chain by FinFET technology, the first inverter: 1×. Cload: implemented by a 256×inverter


• For a given stage N, the optimum f is determined by f = F^{F}
• Sweep the N to find corresponding f
• In theory, the optimum f should satisfy: f = exp(1+f)

实现方法：
不同N的反相器链，其反相器个数以及各级反相器尺寸参数Nfin有所不同，因此难以用一个sp脚本调整不同N值得到不同反相器链。
因此，我们利用python脚本Lab2/Task5/generate_task5.py在文件夹Task5下生成多个名为N=1,2,...的文件夹，每一个文件夹下包含对应N值的sp脚本。然后利用python脚本Lab2/Task5/run_task5.py批量运行这些sp脚本，得到.mt0文件。然后利用Lab2/parser_mt.py脚本解析所有.mt0文件。最后利用python脚本Lab2/Task5/run_stat.py脚本读取生成的task5_N*.sp，整理不同N值得tp_total参数到summary.xlsx
```
N	tp_total
1	2.093E-10
2	4.586E-11
3	3.167E-11
4	2.917E-11
5	2.917E-11
6	3.006E-11
7	3.155E-11
8	3.331E-11
9	3.529E-11

```
然后利用python脚本Lab2/Task5/summary_plot脚本作图，得到tp_total-N曲线图如下：
![alt text](../Task5/tp_N.png)
可见，当$N=4 or 5$时，此时反相器链的总体延迟最小，约为2.917E-11s
